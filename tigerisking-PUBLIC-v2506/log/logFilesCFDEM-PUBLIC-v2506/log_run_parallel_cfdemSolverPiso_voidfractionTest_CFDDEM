
//   run_parallel_cfdemSolverPiso_voidfractionTest_CFDDEM   //

/home/tigerisking/CFDEM/CFDEMcoupling-PUBLIC-v2506/tutorials/cfdemSolverPiso/voidfractionTest/CFD

/*---------------------------------------------------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  2506                                  |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
Build  : 615aae61d7-20250627 OPENFOAM=2506 version=v2506
Arch   : "LSB;label=32;scalar=64"
Exec   : cfdemSolverPiso -parallel
Date   : Aug 25 2025
Time   : 21:20:46
Host   : ae447-9214
PID    : 36861
I/O    : uncollated
Case   : /home/tigerisking/CFDEM/CFDEMcoupling-PUBLIC-v2506/tutorials/cfdemSolverPiso/voidfractionTest/CFD
nProcs : 2
Hosts  :
(
    (ae447-9214 2)
)
Pstream initialized with:
    node communication : off [type=host] (2 ranks, 1 nodes)
    topology controls  : none
    consensus exchange : 0 (tuning: 0)
    exchange algorithm : 0
    commsType          : nonBlocking
    polling iterations : 0
trapFpe: Floating point exception trapping enabled (FOAM_SIGFPE).
fileModificationChecking : Monitoring run-time modified files using timeStampMaster (fileModificationSkew 5, maxFileModificationPolls 20)
allowSystemOperations : Allowing user-supplied system call operations

// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
Create time

--> FOAM Warning : 
    From static Foam::IOstreamOption::compressionType Foam::IOstreamOption::compressionEnum(const Foam::word&, Foam::IOstreamOption::compressionType)
    in file db/options/IOstreamOption.C at line 189
    Unknown compression specifier 'uncompressed' using compression off
Create mesh for time = 0


PISO: Operating solver in PISO mode

Reading field p

Reading physical velocity field U
Note: only if voidfraction at boundary is 1, U is superficial velocity!!!


Reading momentum exchange field Ksl


Reading voidfraction field voidfraction = (Vgas/Vparticle)

Reading particle velocity field Us


Creating density field rho

Reading/calculating face flux field phi

Generating interstitial face flux field phiByVoidfraction

Selecting incompressible transport model Newtonian
Selecting turbulence model type laminar
Selecting laminar stress model Stokes
No finite volume options present

Reading g_new
Selecting locateModel engine
Selecting dataExchangeModel twoWayMPI
Starting up LIGGGHTS for first time execution
Executing input script '../DEM/in.liggghts_run'
LIGGGHTS (Version LIGGGHTS-PUBLIC 3.8.0, compiled 2025-08-03-14:45:38 by tigerisking, git commit bbd23c8521fe0a4f3f5bfd0d3dc9a7dddd68d90b)
log             ../DEM/log.liggghts

atom_style      granular
atom_modify     map array sort 0 0
communicate     single vel yes

boundary        f f f
newton          off

units           si

region          reg block 0 0.1 0 0.1 0. 1.0 units box
create_box      1 reg
Created orthogonal box = (0 0 0) to (0.1 0.1 1)
  1 by 1 by 2 MPI processor grid

neighbor        0.003 bin
neigh_modify    delay 0 binsize 0.01


# Material properties required for granular pair styles
fix         m1 all property/global youngsModulus peratomtype 5.e6
fix         m2 all property/global poissonsRatio peratomtype 0.45
fix         m3 all property/global coefficientRestitution peratomtypepair 1 0.3
fix         m4 all property/global coefficientFriction peratomtypepair 1 0.5
#fix         m5 all property/global characteristicVelocity scalar 2.0

# pair style
pair_style  gran model hertz tangential history # hertz without cohesion
pair_coeff  * *

# timestep, gravity
timestep    0.00001
fix         gravi all gravity 0.0 vector 0.0 0.0 -1.0

# walls
fix     xwalls1 all wall/gran model hertz tangential history primitive type 1 xplane 0.0
fix     xwalls2 all wall/gran model hertz tangential history primitive type 1 xplane 0.1
fix     ywalls1 all wall/gran model hertz tangential history primitive type 1 yplane 0.0
fix     ywalls2 all wall/gran model hertz tangential history primitive type 1 yplane 0.1
fix     zwalls1 all wall/gran model hertz tangential history primitive type 1 zplane 0.0
fix     zwalls2 all wall/gran model hertz tangential history primitive type 1 zplane 0.01

# create single partciles
region      bc block 0 0.1 0 0.1 0.53 1.0 units box
fix		    pts1 all particletemplate/sphere 15485863 atom_type 1 density constant 3000 radius constant 0.0015
fix		    pdd1 all particledistribution/discrete 15485867  1 pts1 1.0
Fix particledistribution/discrete (id pdd1): distribution based on mass%:
    pts1: d=3.000000e-03 (max. bounding sphere) mass%=100.000000%
Fix particledistribution/discrete (id pdd1): distribution based on number%:
    pts1: d=3.000000e-03 (max. bounding sphere) number%=100.000000%

fix		ins all insert/pack seed 32452843 distributiontemplate pdd1 vel constant 0. 0. -0.3 insert_every once overlapcheck yes all_in yes particles_in_region 1000 region bc

#create_atoms    1 single 0.00733 0.0517 0.6 units box
#set             group all diameter 0.003 density 3000

# cfd coupling
fix     cfd all couple/cfd couple_every 100 mpi
couple_every as specified in LIGGGHTS is overriden by calling external program (../fix_cfd_coupling.cpp:114)
fix     cfd2 all couple/cfd/force/implicit

variable    vx equal vx[1]
variable    vy equal vy[1]
variable    vz equal vz[1]
variable    time equal step*dt
fix         extra all print 100 "${time} ${vx} ${vy} ${vz}" file ../DEM/post/velocity.txt title "#" screen no
ERROR on proc 0: Cannot open fix print file ../DEM/post/velocity.txt (../fix_print.cpp:95)
 (../fix_print.cpp:95)
--------------------------------------------------------------------------
MPI_ABORT was invoked on rank 0 in communicator MPI COMMUNICATOR 6 DUP FROM 0
with errorcode 1.

NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.
You may or may not see output from other processes, depending on
exactly when Open MPI kills them.
--------------------------------------------------------------------------
